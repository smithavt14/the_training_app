<view class="page__container">
    <view class="container-header">{{title}}</view>

    <view class="input-container">
        <image class="icon" src="/icons/name.png" />
        <input class="input" bindinput="changeName" value="{{workout.name}}" type="text" placeholder="INPUT YOUR WORKOUT NAME"/>
    </view>
    
    <view class="input-container">
        <image class="icon" src="/icons/category.png" />
        <picker class="input" bindchange="changeCategory" range="{{category.items}}" value="{{index}}">
            <view wx:if="{{workout.category}}" class="input-picker">{{workout.category}}</view>
            <view wx:else class="input-picker" style="color: gray;">CHOOSE YOUR CATEGORY</view>
        </picker>
    </view>

    <view
    class="input-container container-image" 
    mode="aspectFill"
    bindtap="changeImage" 
    style="background-image: linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.2)), url({{ workout.image.path || illustrations[category.active] || illustrations['Run'] }})">
        <view>CHOOSE IMAGE</view>
    </view>
    
    <view class="input-container" style="display: block">
        <view class="section">
            <image class="icon" src="/icons/date.png" />
            <picker class="input" mode="date" bindchange="changeDate" value="{{date}}" start="{{date.start}}" end="{{date.end}}">
                <view wx:if="{{workout.date}}" class="input-picker">{{workout.date}}</view>
                <view wx:if="{{!workout.date && date.active}}" class="input-picker">{{date.selected}}</view>
                <view wx:if="{{!workout.date && !date.active}}" class="input-picker" style="color: gray;">CHOOSE YOUR DATE</view>
            </picker>
        </view>

        <view class="section">
            <image class="icon" src="/icons/time.png" />
            <picker class="input" mode="multiSelector" bindchange="changeCustomTime" value="{{time.index}}" range="{{time.columns}}" >
                <view wx:if="{{workout.time}}" class="input-picker">{{workout.time}}</view>
                <view wx:else class="input-picker" style="color: gray;">CHOOSE YOUR TIME</view>
            </picker>
        </view>

        <view class="section" bindtap="{{user.is_authorized ? 'changeLocation' : 'updateUserInformation'}}">
            <image class="icon" src="/icons/location.png" />
            <view wx:if="{{user.is_authorized}}" class="input"style="color: {{workout.location ? '#232323' : 'gray'}}">{{workout.location ? workout.location.address : 'CHOOSE YOUR LOCATION'}}</view>
            <view wx:else class="input"style="color: {{workout.location ? '#232323' : 'gray'}}">{{workout.location ? workout.location.address : 'CHOOSE YOUR LOCATION'}}</view>
        </view>
    </view>

    <view class="input-container">
        <textarea maxlength="1000" class="input input-textarea" value="{{workout.description}}" bindblur="bindTextAreaBlur" bindinput="changeDescription" placeholder="INPUT YOUR WORKOUT DESCRIPTION" />
    </view>

    <view class="container-btn">
        <view wx:if="{{user && !user.is_authorized}}" class="btn btn-login" bindtap="updateUserInformation">
            <view>LOGIN</view>
            <image class="icon" src="/icons/wechat-white.png"/>
        </view>
        <view wx:if="{{user.is_authorized && !validated}}" class="btn btn-disabled">INCOMPLETE</view>
        <view wx:if="{{user.is_authorized && validated}}" class="btn btn-primary" bindtap="submit">SUBMIT</view>
    </view>
    
</view>